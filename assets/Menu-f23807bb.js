import{r as c,j as e,c as h,u as g,L as f,a as j,b as v,P as N,A as y,H as w,p as b}from"./index-0659d8e0.js";const k="_input_1e1bp_1",F="_icon_1e1bp_18",d={input:k,"input-wrapper":"_input-wrapper_1e1bp_14",icon:F},$=c.forwardRef(function({isValid:i=!0,className:s,...a},o){return e.jsxs("div",{className:d["input-wrapper"],children:[e.jsx("input",{ref:o,className:h(d.input,s,{[d.invalid]:i}),...a}),e.jsx("img",{className:d.icon,src:"/search-icon.svg",alt:"Иконка лупы"})]})}),E="_head_12z56_1",L={head:E},S="_head_6efxi_1",C="_card_6efxi_7",I="_footer_6efxi_14",P="_title_6efxi_18",A="_description_6efxi_26",M="_link_6efxi_34",R="_price_6efxi_38",D="_currency_6efxi_52",H="_rating_6efxi_56",n={head:S,card:C,footer:I,title:P,description:A,link:M,price:R,currency:D,rating:H,"add-to-cart":"_add-to-cart_6efxi_71"};function z(t){const i=g(),s=a=>{a.preventDefault(),i(j.add(t.id))};return e.jsx(f,{to:`/product/${t.id}`,className:n.link,children:e.jsxs("div",{className:n.card,children:[e.jsxs("div",{className:n.head,style:{backgroundImage:`url('${t.image}')`},children:[e.jsxs("div",{className:n.price,children:[t.price," ",e.jsx("span",{className:n.currency,children:"₴"})]}),e.jsx("button",{className:n["add-to-cart"],onClick:s,children:e.jsx("img",{src:"/cart-button-icon.svg",alt:"Додати до кошика"})}),e.jsxs("div",{className:n.rating,children:[t.rating," ",e.jsx("img",{src:"/star-icon.svg",alt:"Иконка звезды"})]})]}),e.jsxs("div",{className:n.footer,children:[e.jsx("div",{className:n.title,children:t.name}),e.jsx("div",{className:n.description,children:t.description})]})]})})}const T="_wrapper_7fxue_1",X={wrapper:T};function q({products:t,translations:i}){return e.jsx("div",{className:X.wrapper,children:t.map(s=>{const a=i[s.name.toLowerCase()];return e.jsx(z,{id:s.id,name:a?a.name:s.name,description:a?a.description:s.ingredients.join(", "),rating:s.rating,price:s.price,image:s.image},s.id)})})}function G(){const[t,i]=c.useState([]),[s,a]=c.useState(!1),[o,_]=c.useState(),[u,x]=c.useState();c.useEffect(()=>{p(u)},[u]);const p=async l=>{try{a(!0);const{data:r}=await v.get(`${N}/products`,{params:{name:l}});console.log(r),i(r),a(!1)}catch(r){console.error(r),r instanceof y&&_(r.message),a(!1)}},m=l=>{x(l.target.value)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:L.head,children:[e.jsx(w,{children:"Меню"}),e.jsx($,{placeholder:"Введіть страву чи склад",onChange:m})]}),e.jsxs("div",{children:[o&&e.jsx(e.Fragment,{children:o}),!s&&t.length>0&&e.jsx(q,{products:t,translations:b}),s&&e.jsx(e.Fragment,{children:"Завантажуємо продукти..."}),!s&&t.length===0&&e.jsx(e.Fragment,{children:"Не знайдено страв за запитом"})]})]})}export{G as Menu,G as default};
